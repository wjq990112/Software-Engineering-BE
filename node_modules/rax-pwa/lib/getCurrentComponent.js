"use strict";

exports.__esModule = true;
exports.default = void 0;

var _isPathMatched = _interopRequireDefault(require("./isPathMatched"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getCurrentComponent(pagesConfig, withSSR) {
  var currentComponent = null;
  var pageNames = Object.keys(pagesConfig);

  for (var i = 0; i < pageNames.length; i++) {
    var currentPage = pagesConfig[pageNames[i]];

    if ((0, _isPathMatched.default)(withSSR ? 'history' : 'hash', currentPage.regexp, pageNames[i])) {
      currentComponent = currentPage.component;
      break;
    }
  }

  if (currentComponent === null) {
    return function () {
      return new Promise(function (resolve) {
        resolve(null);
      });
    };
  }

  return currentComponent;
}

var _default = getCurrentComponent;
exports.default = _default;